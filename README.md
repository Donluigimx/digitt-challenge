# Digitt Technical Interview

We have a loan for 12,000 at a 28% APR signed on `2020-07-01 04:48:31+00`. Loans generate a
daily interest generated by dividing the 28% APR / 360 days. These daily interests also
generats Taxes (IVA) at a 16% rate.
Transactions can be of type `principal`, `interests`, and `iva` and each of them support the
following operations `add`, `decrease`, `set`.

Given a list of transactions provided in the `data/` folder we would like to do the following.

- Get the current balance
- Get the balance at a certain day
- Receive a payment for `500` at `2020-07-07 12:31:00+00` that decrease the interests until that day
by adding new `decrease` transactions. The remaining balance should go to decrease the principal amount
and the interests generated after the payment is received should use the new principal amount.

## Bonus
- After receiving a payment an event is triggered with the new balance

# Installation
```js
# Install packages
npm i
# Start app
npm start
```

Server has an environment variable PORT that can be set before running the app
> .env
```env
PORT=8001
```
```
# Start app with custom env variables
env $(cat .env) npm start
```

# Endpoints
All endpoints sends and receives JSON data

```
# Get current balance
GET /balance

# Get balance from a certain day
GET /balance?date=2020-07-07

# Receive a payment
POST /payments
{
  value: Integer,
  date: String
}
```
